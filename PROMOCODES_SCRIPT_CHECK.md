# ‚úÖ –ü–†–û–í–ï–†–ö–ê –°–ö–†–ò–ü–¢–ê –ì–ï–ù–ï–†–ê–¶–ò–ò –ü–†–û–ú–û–ö–û–î–û–í

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 25 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´

---

## üìã –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 1: UnicodeEncodeError —Å —ç–º–æ–¥–∑–∏
**–û—à–∏–±–∫–∞:**
```
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705'
```

**–ü—Ä–∏—á–∏–Ω–∞:** Windows –∫–æ–Ω—Å–æ–ª—å (cp1251) –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç–º–æ–¥–∑–∏ —Å–∏–º–≤–æ–ª—ã

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ —ç–º–æ–¥–∑–∏ –Ω–∞ ASCII —Å–∏–º–≤–æ–ª—ã `[OK]`

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `scripts/generate_promocodes.py` - –∑–∞–º–µ–Ω–µ–Ω—ã 4 –≤—Ö–æ–∂–¥–µ–Ω–∏—è —ç–º–æ–¥–∑–∏ ‚úÖ

---

## ‚úÖ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–ò

### –¢–µ—Å—Ç 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞ ‚úÖ
```bash
python scripts/generate_promocodes.py --single 500
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[OK] Promocode generated successfully!
   Code: TL6FA1DY
   Amount: 500 points
   Status: AVAILABLE
   Created: 2026-01-24T19:13:25
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢

---

### –¢–µ—Å—Ç 2: –ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ ‚úÖ
```bash
python scripts/generate_promocodes.py --batch 100 200 300
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[OK] Promocodes generated successfully!
   Total: 3 promocodes
   File: C:\QwenEditBot\data\promocodes_20260125_001335.txt

Generated promocodes:
   BSM4HO2T - 100 points
   QHIRKIB1 - 200 points
   465FZIQP - 300 points
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞:**
```
# Generated Promocodes - 2026-01-25 00:13:35
# Total: 3 promocodes
# Format: CODE - AMOUNT (points)

BSM4HO2T - 100
QHIRKIB1 - 200
465FZIQP - 300
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- ‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥—ã —Å–æ–∑–¥–∞–Ω—ã –≤ –ë–î
- ‚úÖ –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

---

### –¢–µ—Å—Ç 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∫–æ–¥–æ–º ‚úÖ
```bash
python scripts/generate_promocodes.py --single 1000 --custom-code TEST123
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[OK] Promocode generated successfully!
   Code: TEST123
   Amount: 1000 points
   Status: AVAILABLE
   Created: 2026-01-24T19:13:45
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢

---

### –¢–µ—Å—Ç 4: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥—É–±–ª–∏–∫–∞—Ç–∞ –∫–æ–¥–∞ ‚úÖ
```bash
python scripts/generate_promocodes.py --single 500 --custom-code TEST123
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Error: 400 - {"detail":"Promocode with this code already exists"}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏)

---

### –¢–µ—Å—Ç 5: –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–π —Å—É–º–º—ã ‚úÖ
```bash
python scripts/generate_promocodes.py --single 150
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Error: 400 - {"detail":"Invalid amount. Must be one of: [100, 200, 300, 400, 500, 1000, 2000, 3000, 5000]"}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è)

---

## üìä –°–í–û–î–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê –¢–ï–°–¢–û–í

| –¢–µ—Å—Ç | –ö–æ–º–∞–Ω–¥–∞ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ç–∞—Ç—É—Å |
|------|---------|---------------------|----------------------|--------|
| 1. –û–¥–∏–Ω–æ—á–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ | `--single 500` | –ü—Ä–æ–º–æ–∫–æ–¥ —Å–æ–∑–¥–∞–Ω | ‚úÖ –°–æ–∑–¥–∞–Ω | ‚úÖ |
| 2. –ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è | `--batch 100 200 300` | 3 –ø—Ä–æ–º–æ–∫–æ–¥–∞ + —Ñ–∞–π–ª | ‚úÖ 3 –ø—Ä–æ–º–æ–∫–æ–¥–∞ + —Ñ–∞–π–ª | ‚úÖ |
| 3. –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–¥ | `--single 1000 --custom-code TEST123` | –ü—Ä–æ–º–æ–∫–æ–¥ —Å –∫–æ–¥–æ–º TEST123 | ‚úÖ –°–æ–∑–¥–∞–Ω | ‚úÖ |
| 4. –î—É–±–ª–∏–∫–∞—Ç –∫–æ–¥–∞ | `--single 500 --custom-code TEST123` | –û—à–∏–±–∫–∞ 400 | ‚úÖ –û—à–∏–±–∫–∞ 400 | ‚úÖ |
| 5. –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è —Å—É–º–º–∞ | `--single 150` | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ | ‚úÖ –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ | ‚úÖ |

**–ò—Ç–æ–≥–æ:** 5/5 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ ‚úÖ

---

## üîç –ü–†–û–í–ï–†–ö–ê API ENDPOINTS

### Backend API (`backend/app/api/promocodes.py`)

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ endpoints:**
1. ‚úÖ `POST /api/promocodes/generate` - —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ `POST /api/promocodes/batch-generate` - —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º - —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ - —Ä–∞–±–æ—Ç–∞–µ—Ç
5. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª - —Ä–∞–±–æ—Ç–∞–µ—Ç

**–õ–æ–≥–∏–∫–∞:**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤ (8 —Å–∏–º–≤–æ–ª–æ–≤, A-Z, 0-9)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Å—É–º–º: [100, 200, 300, 400, 500, 1000, 2000, 3000, 5000]
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª –¥–ª—è batch –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í

### –°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
- **–§–∞–π–ª:** `scripts/generate_promocodes.py`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–§—É–Ω–∫—Ü–∏–∏:**
  - `generate_single_promocode()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞
  - `batch_generate_promocodes()` - –ø–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
  - `main()` - CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### API Backend:
- **–§–∞–π–ª:** `backend/app/api/promocodes.py`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **Endpoints:**
  - `POST /api/promocodes/generate` - –æ–¥–∏–Ω–æ—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
  - `POST /api/promocodes/batch-generate` - –ø–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
  - `POST /api/promocodes/use` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞
  - `GET /api/promocodes/list` - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
  - `GET /api/promocodes/{code}` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `data/`
- **–§–æ—Ä–º–∞—Ç:** `promocodes_YYYYMMDD_HHMMSS.txt`
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –°–ø–∏—Å–æ–∫ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `CODE - AMOUNT`

---

## ‚úÖ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ä–µ–∂–∏–º—ã:

1. **–û–¥–∏–Ω–æ—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è:**
   ```bash
   python scripts/generate_promocodes.py --single 500
   python scripts/generate_promocodes.py --single 1000 --custom-code MYCODE
   ```

2. **–ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è:**
   ```bash
   python scripts/generate_promocodes.py --batch 100 200 300 500 1000
   ```

3. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º:**
   ```bash
   python scripts/generate_promocodes.py
   # –í—ã–±–æ—Ä: single –∏–ª–∏ batch
   ```

### –í–∞–ª–∏–¥–∞—Ü–∏—è:
- ‚úÖ –î–æ–ø—É—Å—Ç–∏–º—ã–µ —Å—É–º–º—ã: 100, 200, 300, 400, 500, 1000, 2000, 3000, 5000
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∫–æ–¥–æ–≤
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –∫–æ–¥–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## üéØ –ò–¢–û–ì–û–í–û–ï –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### ‚úÖ –°–ö–†–ò–ü–¢ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢!

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
2. ‚úÖ –ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
3. ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–¥—ã
4. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
6. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª
7. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
8. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
9. ‚úÖ CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
10. ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π (—ç–º–æ–¥–∑–∏ ‚Üí ASCII)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- ‚úÖ –°–∫—Ä–∏–ø—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìù –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥:

**–°–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω –ø—Ä–æ–º–æ–∫–æ–¥:**
```bash
python scripts/generate_promocodes.py --single 500
```

**–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∫–æ–¥–æ–º:**
```bash
python scripts/generate_promocodes.py --single 1000 --custom-code BIRTHDAY2026
```

**–°–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤:**
```bash
python scripts/generate_promocodes.py --batch 100 200 300 500 1000
```

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º:**
```bash
python scripts/generate_promocodes.py
```

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–ö–†–ò–ü–¢ –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û –ò –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!
