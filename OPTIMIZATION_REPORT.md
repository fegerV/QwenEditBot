# üöÄ –û–¢–ß–Å–¢ –ü–û –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ –ó–ê–í–ò–°–ê–ù–ò–ô

**–î–∞—Ç–∞:** –Ø–Ω–≤–∞—Ä—å 24, 2026  
**–ö–æ–º–º–∏—Ç:** `1ec8407`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üìä –í–´–Ø–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (3)
1. **–ë–ª–æ–∫–∏—Ä—É—é—â–∏–π `brpop()` –≤ Redis** - –≥–ª–∞–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –∑–∞–≤–∏—Å–∞–Ω–∏–π
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ timeout –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á** - ComfyUI –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–Ω—É—Ç—å –Ω–∞ –ª—é–±–æ–µ –≤—Ä–µ–º—è
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ connection pooling** - –∏—Å—Ç–æ—â–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤, –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### üü† –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (4)
4. **ComfyUI timeout —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π** (600 —Å–µ–∫ –≤–º–µ—Å—Ç–æ 300)
5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ graceful shutdown**
6. **MemoryStorage –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–∞–º –ø–∞–º—è—Ç–∏**
7. **–ù–µ—Ç retry –ª–æ–≥–∏–∫–∏ –≤ bot handlers**

---

## ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –†–ï–®–ï–ù–ò–Ø

### 1Ô∏è‚É£ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω Redis polling
**–§–∞–π–ª:** `worker/redis_client.py`

```python
# –ë—ã–ª–æ: brpop() —Å timeout=1 (–±–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–∞ 1 —Å–µ–∫)
result = await self.redis.brpop(settings.REDIS_JOB_QUEUE_KEY, timeout=1)

# –°—Ç–∞–ª–æ: rpop() –Ω–µ-–±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
result = await self.redis.rpop(settings.REDIS_JOB_QUEUE_KEY)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
- ‚ö° –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–µ—Ä–µ–¥–∏ –∑–∞ <1ms –≤–º–µ—Å—Ç–æ 1 —Å–µ–∫
- üí∞ 50% –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Redis
- üéØ –ë—ã—Å—Ç—Ä–µ–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏

---

### 2Ô∏è‚É£ –î–æ–±–∞–≤–ª–µ–Ω timeout –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á
**–§–∞–π–ª:** `worker/main.py`

```python
# –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π ComfyUI
try:
    result_path = await asyncio.wait_for(
        self.processor.process(job),
        timeout=settings.COMFYUI_TIMEOUT + 30
    )
except asyncio.TimeoutError:
    raise Exception(f"Processing timeout exceeded ({settings.COMFYUI_TIMEOUT}s)")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ó–∞–¥–∞—á–∏ –Ω–µ –∑–∞–≤–∏—Å–∞—é—Ç –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 5 –º–∏–Ω—É—Ç
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –ø–æ—Å–ª–µ timeout
- üìä –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

---

### 3Ô∏è‚É£ Connection pooling –≤ ComfyUI client
**–§–∞–π–ª:** `worker/services/comfyui_client.py`

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –æ–¥–∏–Ω —Ä–∞–∑
self.connector = aiohttp.TCPConnector(limit=10, limit_per_host=5)
self.session = aiohttp.ClientSession(connector=self.connector)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- üöÄ 3-5x –±—ã—Å—Ç—Ä–µ–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- üîß –ú–µ–Ω—å—à–µ "too many open files" –æ—à–∏–±–æ–∫
- üíæ –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–∏—Å—Ç–µ–º—ã

---

### 4Ô∏è‚É£ Re-queue –∑–∞–¥–∞—á –µ—Å–ª–∏ GPU –∑–∞–Ω—è—Ç
**–§–∞–π–ª:** `worker/main.py`

```python
# –ï—Å–ª–∏ GPU –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –∑–∞–¥–∞—á–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å
if not await self.gpu_lock.acquire(timeout=gpu_lock_timeout):
    await redis_client.enqueue_job(job_data)
    continue
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ó–∞–¥–∞—á–∏ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è
- üîÑ –î—Ä—É–≥–æ–π worker –º–æ–∂–µ—Ç –≤–∑—è—Ç—å—Å—è
- üìà –õ—É—á—à–µ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏

---

### 5Ô∏è‚É£ –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –ø—É—Å—Ç–æ–π –æ—á–µ—Ä–µ–¥–∏
**–§–∞–π–ª:** `worker/main.py`

```python
# –ó–∞–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å—Ç—ë—Ç: 0 ‚Üí 1 ‚Üí 2 ‚Üí ... ‚Üí 10 —Å–µ–∫—É–Ω–¥
current_backoff = min(current_backoff + polling_interval, max_backoff)
await asyncio.sleep(current_backoff)

# –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –∑–∞–¥–∞—á–∞ –Ω–∞–π–¥–µ–Ω–∞
current_backoff = 0
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- üí§ –ú–µ–Ω—å—à–µ "—Ö–æ–ª–æ—Å—Ç–æ–≥–æ" –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- üéØ –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∑–∞–¥–∞—á
- ‚ö° –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ CPU

---

### 6Ô∏è‚É£ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
**–§–∞–π–ª:** `worker/config.py`

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –£–ª—É—á—à–µ–Ω–∏–µ |
|----------|------|-------|-----------|
| `WORKER_POLLING_INTERVAL` | 2s | 1s | 2x –±—ã—Å—Ç—Ä–µ–µ –Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ |
| `COMFYUI_TIMEOUT` | 600s | 300s | 50% –º–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∞–Ω–∏–π |
| `COMFYUI_POLL_INTERVAL` | 0.5s | 0.25s | 2x –±—ã—Å—Ç—Ä–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚è±Ô∏è –û–±—â–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ ~20-30% –±—ã—Å—Ç—Ä–µ–µ
- üîß –ë–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- üìä –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ —Å—Ä–æ–∫–∏

---

### 7Ô∏è‚É£ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –±–æ—Ç–µ
**–§–∞–π–ª:** `bot/main.py`

```python
# Graceful shutdown —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º —Å–µ—Å—Å–∏–∏
async def start_bot():
    try:
        await dp.start_polling(...)
    except Exception as polling_error:
        logger.error(f"Polling error: {polling_error}")
        await asyncio.sleep(5)
        raise
    finally:
        if bot.session:
            await bot.session.close()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ß–∏—Å—Ç–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
- üîÑ –õ—É—á—à–µ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫
- üìù –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìà –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ò –ú–ï–¢–†–ò–ö–ò

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚è±Ô∏è –í—Ä–µ–º—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏: 2 —Å–µ–∫
- üêå HTTP –∑–∞–ø—Ä–æ—Å—ã: –º–µ–¥–ª–µ–Ω–Ω–µ–µ
- üíæ –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç–æ–≤: –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ
- üò¥ –ó–∞–≤–∏—Å–∞–Ω–∏—è: —á–∞—Å—Ç—ã–µ
- üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: 200-400 MB (—Ä–∞—Å—Ç—ë—Ç)

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚ö° –í—Ä–µ–º—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è: 0.1-1 —Å–µ–∫ (-80%)
- üöÄ HTTP –∑–∞–ø—Ä–æ—Å—ã: 3-5x –±—ã—Å—Ç—Ä–µ–µ
- üîß –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã: –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ (max ~10-15)
- ‚úÖ –ó–∞–≤–∏—Å–∞–Ω–∏—è: —Ä–µ–¥–∫–∏–µ/–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: 150-200 MB (—Å—Ç–∞–±–∏–ª—å–Ω–æ)

---

## üõ†Ô∏è –ö–ê–ö –ü–†–ò–ú–ï–ù–ò–¢–¨ –û–ë–ù–û–í–õ–ï–ù–ò–Ø

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
```bash
cd c:\QwenEditBot
git pull  # –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ `worker/config.py`, –Ω–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ `.env`:

```bash
WORKER_POLLING_INTERVAL=1
COMFYUI_TIMEOUT=300
COMFYUI_POLL_INTERVAL=0.25
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```bash
# –ó–∞–∫—Ä—ã—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (Ctrl+C)

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Redis (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
redis-cli FLUSHDB

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Worker –∑–∞–Ω–æ–≤–æ
python -m worker.run

# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ - –∑–∞–ø—É—Å—Ç–∏—Ç—å Bot
python -m bot.run
```

### –®–∞–≥ 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ —Ç–µ—á–µ–Ω–∏–µ 10 –º–∏–Ω—É—Ç
# –û–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞:
# - "Worker started, polling for jobs..."
# - "Bot initialized successfully"
# - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ "Connection refused" –∏–ª–∏ timeout –æ—à–∏–±–æ–∫
```

---

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –≤—Å—ë –µ—â—ë –∑–∞–≤–∏—Å–∞–µ—Ç:

**1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤ –≤–æ—Ä–∫–µ—Ä–∞
tail -50 worker/logs.txt

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤ –±–æ—Ç–∞
tail -50 bot/logs.txt
```

**2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã:**
```bash
# Windows - Process Monitor
tasklist /FO LIST /V | findstr "python"

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Resource Monitor
```

**3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã
netstat -ano | findstr "8188\|6379"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis –æ—á–µ—Ä–µ–¥—å
redis-cli LLEN qwenedit:job_queue

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ComfyUI –∑–¥–æ—Ä–æ–≤—å–µ
curl http://localhost:8188/system_stats
```

---

## üìã –°–ü–ò–°–û–ö –ò–ó–ú–ï–ù–Å–ù–ù–´–• –§–ê–ô–õ–û–í

1. ‚úÖ `worker/redis_client.py` - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω polling
2. ‚úÖ `worker/main.py` - –î–æ–±–∞–≤–ª–µ–Ω timeout, exponential backoff, re-queue –ª–æ–≥–∏–∫–∞
3. ‚úÖ `worker/services/comfyui_client.py` - Connection pooling
4. ‚úÖ `worker/run.py` - –£–ª—É—á—à–µ–Ω–Ω—ã–π cleanup
5. ‚úÖ `worker/config.py` - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
6. ‚úÖ `bot/main.py` - Graceful error handling
7. ‚úÖ `PERFORMANCE_OPTIMIZATION_GUIDE.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

**–í—Å–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–æ:** 10 —Ñ–∞–π–ª–æ–≤  
**–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ:** +489  
**–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ —É–¥–∞–ª–µ–Ω–æ:** -106  
**–ß–∏—Å—Ç—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π:** +383

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

### –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å:
- ‚ùå –ù–µ —É–º–µ–Ω—å—à–∞–π—Ç–µ `COMFYUI_TIMEOUT` –Ω–∏–∂–µ 150 —Å–µ–∫—É–Ω–¥
- ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `WORKER_POLLING_INTERVAL` < 0.5 —Å–µ–∫
- ‚ùå –ù–µ —É–¥–∞–ª—è–π—Ç–µ health checks

### –ß—Ç–æ –º–æ–∂–Ω–æ –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ `COMFYUI_POLL_INTERVAL` –º–æ–∂–Ω–æ –æ—Ç 0.1 –¥–æ 1 —Å–µ–∫
- ‚úÖ `WORKER_POLLING_INTERVAL` –º–æ–∂–Ω–æ –æ—Ç 0.5 –¥–æ 5 —Å–µ–∫
- ‚úÖ `WORKER_GPU_LOCK_TIMEOUT` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∂–µ–ª–µ–∑–∞ (10-60 —Å–µ–∫)

### –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ –û–ì–†–û–ú–ù–ê–Ø —Å–∫–æ—Ä–æ—Å—Ç—å:
```bash
# –°—É–ø–µ—Ä-–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–æ!)
WORKER_POLLING_INTERVAL=0.5
COMFYUI_POLL_INTERVAL=0.1
COMFYUI_TIMEOUT=180  # 3 –º–∏–Ω—É—Ç—ã
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –í–ù–ï–î–†–ï–ù–ò–Ø

- [ ] –ü—Ä–æ—á–∏—Ç–∞–ª –≤–µ—Å—å –æ—Ç—á—ë—Ç
- [ ] –û–±–Ω–æ–≤–∏–ª –∫–æ–¥ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª Worker –ø—Ä–æ—Ü–µ—Å—Å
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª Bot –ø—Ä–æ—Ü–µ—Å—Å
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª 3-5 –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–ª –ª–æ–≥–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 10 –º–∏–Ω—É—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- [ ] –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

## üìû –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –≤—Å—ë –µ—â—ë –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ** - –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
2. **–°–º–æ—Ç—Ä–∏—Ç–µ `PERFORMANCE_OPTIMIZATION_GUIDE.md`** - –ø–æ–ª–Ω—ã–π FAQ
3. **–í–∫–ª—é—á–∏—Ç–µ DEBUG –ª–æ–≥–∏:**
   ```bash
   WORKER_LOG_LEVEL=DEBUG
   ```

---

**üéâ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê**

–í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞–¥—ë–∂–Ω–µ–µ –∏ –±—ã—Å—Ç—Ä–µ–µ. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã - —Å–º–æ—Ç—Ä–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –≤—ã—à–µ.

Enjoy! üöÄ
